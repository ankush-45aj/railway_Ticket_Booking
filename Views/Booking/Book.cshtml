@model RailwayBookingApp.Models.Booking

@{
    ViewData["Title"] = "Confirm Reservation";
}

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<style>
    body { 
        font-family: 'Outfit', sans-serif; 
        background-color: #0f172a; 
        color: #f8fafc;
    }
    .booking-card {
        background: linear-gradient(145deg, #1e293b, #0f172a);
        border: 1px solid #334155;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }
    .input-dark {
        background: #0f172a;
        border: 1px solid #334155;
        color: #f8fafc;
        transition: all 0.3s ease;
    }
    .input-dark:focus {
        border-color: #3b82f6;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        outline: none;
    }
</style>

<div class="min-h-screen py-12 px-6 flex items-center justify-center">
    <div class="max-w-3xl w-full">
        <div class="text-center mb-10">
            <h1 class="text-4xl font-bold tracking-tight text-white mb-2">Finalize Reservation</h1>
            <p class="text-slate-400">Review your journey details and assign passenger information.</p>
        </div>

        <div class="booking-card rounded-3xl overflow-hidden">
            <div class="h-2 bg-blue-600 w-full"></div>
            
            <form asp-controller="Booking" asp-action="Book" method="post" class="p-8 md:p-12 space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">Passenger Name</label>
                        <div class="relative">
                            <i class="bi bi-person absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"></i>
                            <input asp-for="PassengerName" class="input-dark w-full pl-12 pr-4 py-3 rounded-xl" placeholder="Full Legal Name" required />
                        </div>
                    </div>

                    <div class="space-y-2">
                        <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">Selected Train</label>
                        <div class="relative">
                            <i class="bi bi-train-front absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"></i>
                            <select asp-for="TrainId" class="input-dark w-full pl-12 pr-4 py-3 rounded-xl appearance-none cursor-pointer" asp-items="ViewBag.Trains"></select>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="space-y-2">
                        <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">Seats</label>
                        <div class="relative">
                            <i class="bi bi-123 absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"></i>
                            <input asp-for="Seats" type="number" class="input-dark w-full pl-12 pr-4 py-3 rounded-xl" required min="1" />
                        </div>
                    </div>

                    <div class="space-y-2">
                        <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">Travel Class</label>
                        <select asp-for="Class" class="input-dark w-full px-4 py-3 rounded-xl cursor-pointer">
                            <option value="Sleeper">Sleeper</option>
                            <option value="AC">AC</option>
                            <option value="General">General</option>
                        </select>
                    </div>

                    <div class="space-y-2">
                        <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">Seat Pref (Opt)</label>
                        <input asp-for="SeatNumbers" class="input-dark w-full px-4 py-3 rounded-xl" placeholder="e.g. 12, 14" />
                    </div>
                </div>

                <div class="bg-slate-900/50 rounded-2xl p-6 border border-slate-700 mt-8">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs font-bold text-slate-500 uppercase tracking-widest">Estimated Fare</p>
                            <div class="flex items-center gap-2 mt-1">
                                <span class="text-3xl font-bold text-white">â‚¹</span>
                                <input asp-for="Price" type="number" step="0.01" class="bg-transparent text-3xl font-bold text-white border-none focus:ring-0 w-32" />
                            </div>
                        </div>
                        <div class="text-right">
                            <i class="bi bi-shield-check text-emerald-500 text-2xl"></i>
                            <p class="text-xs text-slate-500 mt-1">Secure Transaction</p>
                        </div>
                    </div>
                </div>

                <div class="pt-4">
                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-blue-900/30 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 text-lg">
                        Confirm & Generate Ticket <i class="bi bi-arrow-right-circle-fill"></i>
                    </button>
                    <p class="text-center text-slate-600 text-xs mt-4">By clicking confirm, you agree to the travel terms and conditions.</p>
                </div>
            </form>
        </div>

        <div class="mt-8 text-center">
            <a href="javascript:history.back()" class="text-slate-500 hover:text-white transition-colors text-sm font-medium">
                <i class="bi bi-chevron-left mr-1"></i> Go Back to Selection
            </a>
        </div>
    </div>
</div>